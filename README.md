# 키친포스

## 퀵 스타트

---

```sh
cd docker
docker compose -p kitchenpos up -d
```

## 요구 사항

---

### 매장 주문을 관리하는 포스 시스템을 만든다.

- **상품**

  - 상품은 식별자, 이름, 가격을 가진다.
  - 상품 이름
    - 상품의 이름은 빈 값을 허용하지 않으며 비속어를 포함할 수 없다.
  - 상품 가격
    - 상품의 가격은 0원 이상이다.
  - 상품 가격 변경
    - 상품의 가격을 변경할 수 있다.
    - 상품의 가격을 변경하면 상품이 포함된 메뉴둘의 가격도 다시 계산해야한다.
    - 변경된 상품 가격을 반영하지 않은 메뉴들은 숨김처리 된다.

- **메뉴 그룹**

  - 메뉴 그룹은 식별자, 이름을 가진다.
  - 메뉴 그룹 이름
    - 메뉴 그룹 이름은 빈 값을 허용하지 않는다.
  - 메뉴 그룹은 여러 개의 메뉴를 포함할 수 있다.

- **메뉴**

  - 메뉴는 식별자, 이름, 가격을 가진다.
  - 메뉴는 단 하나의 메뉴 그룹에 포함된다.
  - 메뉴는 하나 이상의 메뉴 상품으로 구성된다.
  - 메뉴는 진열 여부를 변경할 수 있다.
  - 메뉴 이름
    - 메뉴의 이름은 빈 값을 허용하지 않으며 비속어를 포함할 수 없다.
  - 메뉴 가격
    - 메뉴의 가격은 0원보다 작을 수 없다.
    - 메뉴 생성 시 가격은 메뉴 상품들의 (가격 \* 수량)의 총합과 같아야 한다.
    - 메뉴 상품들의 가격의 총합이 메뉴 가격과 일치하지 않으면 메뉴는 숨김처리 된다.
  - 메뉴 가격 변경
    - 메뉴의 가격을 변경할 수 있다.
    - 메뉴의 가격 변경 시 메뉴 상품들의 가격의 총합과 같아야 한다.
  - 메뉴 진열 여부 변경
    - 메뉴를 진열하려면 메뉴의 가격이 메뉴 상품들의 가격의 총합과 같아야 한다.
    - 메뉴를 숨길 수 있다.

- **메뉴 상품**

  - 메뉴 상품은 식별자와 수량을 가진다.
  - 메뉴 상품은 메뉴에 포함된 하나의 상품을 나타낸다.

- **주문**

  - 주문은 식별자, 주문 종류, 주문 상태, 주문 시간으로 구성된다.
  - 주문은 하나 이상의 주문 상품으로 구성된다. 주문 상품 각각은 하나의 메뉴와 대응된다.
  - 주문의 종류는 <배송>, <포장>, <매장> 총 세 가지 종류가 있다.
    - <배송> 주문의 경우 어느 주소로 배송할 것인지 추가로 명시해야한다.
    - <매장> 주문의 경우 주문 테이블을 추가로 명시해야한다. 주문 테이블이 점유 상태이면 주문할 수 없다.
  - 주문에 포함된 모든 상품에 대응하는 메뉴는 진열 상태여야 하고 주문 상품과 가격이 일치해야 한다.

- **주문 상품**

  - 주문 상품은 식별자, 대응 되는 메뉴, 수량으로 구성된다.

- **주문 테이블**

  - 주문 테이블은 식별자, 이름, 손님 수, 점유/비점유 상태로 구성된다.
  - 주문 테이블의 이름은 빈 값일 수 없다.
  - 주문 테이블의 손님 수는 항상 0명 이상이어야 한다.
  - 주문 테이블은 처음 생성 시 0명의 손님 수와 비점유 상태를 가진다.
  - 점유/비점유 상태
    - 비점유 상태의 주문 테이블을 점유 상태로 변경할 수 있다.
    - 점유 상태의 주문 테이블을 비점유 상태로 변경할 수 있다. 단, 해당 주문 테이블에서 진행중인(완료 상태가 아닌) 주문이 있으면 안 된다. 비점유 상태로 변경된 주문 테이블은 0명의 손님 수를 가지게 된다.
  - 점유 상태의 주문 테이블의 손님 수를 변경할 수 있다.

- **주문 처리 과정**
  - 모든 종류의 주문은 성공적으로 요청되면 "대기" 상태가 된다.
  - <매장> 주문 처리 과정
    - "대기" 상태의 주문을 "수락" 상태로 변경하면서 주문 처리가 시작된다.
    - "수락" 상태에서 음식을 서빙하면 "서빙" 상태가 된다.
    - 손님이 주문 테이블을 비우면 "서빙" 상태에서 "완료" 상태가 되면서 모든 주문 처리가 종료된다.
    - 손님이 점유했던 주문 테이블은 0명의 손님 수와 비점유 상태로 수정된다.
  - <포장> 주문 처리 과정
    - "대기" 상태의 주문을 "수락" 상태로 변경하면서 주문 처리가 시작된다.
    - "수락" 상태에서 음식이 준비되면 "서빙" 상태가 된다.
    - 손님이 음식을 포장해가면 "서빙" 상태에서 "완료" 상태가 되면서 모든 주문 처리가 종료된다.
  - <배송> 주문 처리 과정
    - "대기" 상태의 주문을 "수락" 상태로 변경하면서 주문 처리가 시작된다.
    - "수락" 상태에서 음식이 배송 준비가 되면 "서빙" 상태가 된다.
    - 배송이 시작되면 "서빙" 상태에서 "배송 시작" 상태가 된다.
    - "배송 시작" 상태에서 배송이 완료되면 "배송 됨" 상태가 된다.
    - 손님이 배송된 음식을 확인하면 "배송 됨" 상태에서 "완료" 상태가 되면서 모든 주문 처리가 종료된다.

## 용어 사전

---

| 한글명 | 영문명 | 설명 |
| ------ | ------ | ---- |
|        |        |      |

## 모델링

---
